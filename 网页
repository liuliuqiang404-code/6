<!DOCTYPE html>
<html>
<head>
    <title>åˆ˜æŸè„šæœ¬ - å¡å¯†ç”Ÿæˆ</title>
    <style>
        body { font-family: Arial; max-width: 500px; margin: 50px auto; padding: 20px; }
        .key { background: #e8f5e8; padding: 15px; margin: 15px 0; border-radius: 8px; }
        button { padding: 12px 24px; font-size: 16px; margin: 10px 0; }
    </style>
</head>
<body>
    <h2>ğŸ› ï¸ åˆ˜æŸè„šæœ¬å¡å¯†ç”Ÿæˆ</h2>
    <p>ç‚¹å‡»æŒ‰é’®ç”Ÿæˆ24å°æ—¶æœ‰æ•ˆå¡å¯†</p>
    
    <button onclick="generateKey()">ç”Ÿæˆå¡å¯†</button>
    <div id="keyDisplay"></div>
    <div id="status"></div>

    <script>
        const API_URL = 'https://script.google.com/macros/s/AKfycbyuEcRjw6-IYaFNxPCuS96uidhY6OAKb9cRppiMBBX2w0nNr3pHy2jkok0hLD06TIiY2w/exec';
        
        async function generateKey() {
            document.getElementById('status').innerHTML = 'ç”Ÿæˆä¸­...';
            
            try {
                const response = await fetch(API_URL + '?action=generateKey');
                const data = await response.json();
                
                if (data.success) {
                    document.getElementById('keyDisplay').innerHTML = `
                        <div class="key">
                            <h3>âœ… å¡å¯†ç”ŸæˆæˆåŠŸï¼</h3>
                            <div style="font-size: 18px; font-weight: bold; color: #2e7d32;">
                                ${data.key}
                            </div>
                            <p>æœ‰æ•ˆæœŸï¼š24å°æ—¶</p>
                            <button onclick="copyKey('${data.key}')">å¤åˆ¶å¡å¯†</button>
                        </div>
                    `;
                    document.getElementById('status').innerHTML = '';
                }
            } catch (error) {
                document.getElementById('status').innerHTML = 'âŒ ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•';
            }
        }
        
        function copyKey(key) {
            navigator.clipboard.writeText(key);
            alert('å¡å¯†å·²å¤åˆ¶ï¼š' + key);
        }
    </script>
</body>
</html>